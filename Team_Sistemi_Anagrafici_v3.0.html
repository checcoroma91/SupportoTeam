<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BPER - Team Sistemi Anagrafici</title>

  <!-- Favicon (opzionale) -->
  <link rel="icon" href="data:,">
  <!-- Foglio di stile Neoâ€‘Glass Aurora -->
  <link rel="stylesheet" href="./css/core.css">
  <link rel="stylesheet" href="./css/layout.css">
  <link rel="stylesheet" href="./css/components.css">
  <link rel="stylesheet" href="./css/links.css">
  <link rel="stylesheet" href="./css/op.css">
  <link rel="stylesheet" href="./css/svc.css">
  <link rel="stylesheet" href="./css/crq.css">
  <link rel="stylesheet" href="./css/notif.css">
  <link rel="stylesheet" href="./css/responsive.css">
</head>
<body>

  <!-- ======= HEADER + TOOLBAR ======= -->
  <header class="app-header">
    <div class="brand" role="banner" aria-label="Team Sistemi Anagrafici">
      <span class="dot" aria-hidden="true"></span>
      <strong>BPER - Team Sistemi Anagrafici</strong>
    </div>

    <!-- Toolbar azioni principali -->
    <div class="toolbar" role="toolbar" aria-label="Azioni principali">
	  <button class="btn" id="notifBtn" title="Mostra notifiche">ğŸ”” Notifiche<span id="notifBadge" class="badge" style="display:none;"></span></button>
      	  <!-- Banner luminoso sopra al bottone Notifiche -->
	  <div id="notifBanner" class="notif-banner" style="display:none;">
	    <span class="dot"></span>
	    <span id="notifBannerText">Hai notifiche da controllare</span>
	  </div>
	  <button class="btn"        data-do="saveRepo"   title="Salva su repository remoto">â˜ï¸ Salva repo</button>
      <button class="btn"        data-do="loadRepo"   title="Carica dal repository remoto">ğŸ“¥ Carica repo</button>
      <button class="btn"        data-do="loadFolder" title="Carica da cartella (links/op/svc/crq)">ğŸ“ Carica cartella</button>
      <button class="btn"        data-do="exportMenu" title="Esporta dati">ğŸ“¤ Export</button>
      <button class="btn danger" data-do="clearAll"   title="Pulisci tutto (localStorage)">ğŸ§¹ Pulisci Tutto</button>
    </div>

    <!-- Tabs di navigazione -->
    <nav class="nav" role="tablist" aria-label="Sezioni">
      <button class="tab" data-view="home" aria-controls="pane-home" aria-selected="true"  aria-current="page">ğŸ  Home</button>
      <button class="tab" data-view="links" aria-controls="pane-links" aria-selected="false">ğŸ”— Link</button>
      <button class="tab" data-view="op"    aria-controls="pane-op"    aria-selected="false">ğŸ“ Open Points</button>
      <button class="tab" data-view="crq"   aria-controls="pane-crq"   aria-selected="false">ğŸ“‹ CRQ</button>
      <button class="tab" data-view="svc"   aria-controls="pane-svc"   aria-selected="false">ğŸ›  Servizi</button>
    </nav>
  </header>

  <!-- ======= CONTENUTO ======= -->
  <main class="app-main">

    <!-- === HOME === -->
    <section id="pane-home" data-pane="home" class="pane active" aria-labelledby="home-tab">
      <div class="tiles">
        <div class="tile" data-nav="links" role="button" tabindex="0" aria-label="Vai ai link">
          <div class="ico">ğŸ”—</div><div>LINK UTILI</div>
        </div>
        <div class="tile" data-nav="op" role="button" tabindex="0" aria-label="Vai agli Open Points">
          <div class="ico">ğŸ“</div><div>OPEN POINTS</div>
        </div>
        <div class="tile" data-nav="crq" role="button" tabindex="0" aria-label="Vai alle CRQ">
          <div class="ico">ğŸ“‹</div><div>CRQ</div>
        </div>
        <div class="tile" data-nav="svc" role="button" tabindex="0" aria-label="Vai ai Servizi">
          <div class="ico">ğŸ› </div><div>SERVIZI</div>
        </div>
      </div>
    </section>

    <!-- === LINK === -->
    <section id="pane-links" data-pane="links" class="pane" aria-labelledby="links-tab">
      <div class="card">
        <div class="card-head">
          <strong>Link utili</strong>
          <div class="controls">
			<button class="btn primary" data-open="linkEditorDlg"      title="Nuovo link">â• Nuovo</button>
            <button class="btn"        data-open="sectionsDlg" title="Gestisci sezioni">ğŸ“‚ Gestisci sezioni</button>
            <button class="btn"        data-open="linksFilter"   title="Filtra sezioni visibili">ğŸ” Filtra</button>
            <button class="btn"        data-do="linksExport"     title="Esporta links/sezioni">ğŸ’¾ Salva</button>
            <button class="btn"        data-do="linksImport"     title="Importa links/sezioni">ğŸ“¥ Carica</button>
            <button class="btn danger" data-do="linksClear"      title="Pulisci solo i link">ğŸ§¹ Pulisci</button>
          </div>
        </div>
        <div class="card-body">
          <div class="links-inline">
            <div class="table-wrap">
              <div id="linksContainer" class="links-container">
                <!-- rendering dinamico sezioni + cards link -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- === OPEN POINTS === -->
    <section id="pane-op" data-pane="op" class="pane" aria-labelledby="op-tab">
      <div class="card">
        <div class="card-head">
          <strong>Open Points</strong>
          <div class="controls">
		    <button class="btn primary" data-open="opDialog">â• Nuovo</button>
            <button class="btn"         data-open="opFilterDlg">ğŸ” Filtra</button>
            <button class="btn"         data-do="opSave">ğŸ’¾ Salva</button>
            <button class="btn"         data-do="opLoad">ğŸ“¥ Carica</button>
            <button class="btn"         data-do="opCSV">ğŸ“„ CSV</button>
            <button class="btn"         data-do="opXLS">ğŸ“„ Excel (.xls)</button>
            <button class="btn danger"  data-do="opClear">ğŸ§¹ Pulisci</button>
          </div>
        </div>
        <div class="card-body">
          <div id="opBody">
            <div id="opSummaryBar" class="summary-bar">
              <div class="count"><span id="opCount">0 risultati</span></div>
            </div>
            <div id="opTableWrap" class="table-wrap">
              <table class="table" id="opTable" aria-label="Open Points">
                <!-- thead + tbody dinamici -->
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- === CRQ === -->
    <section id="pane-crq" data-pane="crq" class="pane" aria-labelledby="crq-tab">
      <div class="card">
        <div class="card-head">
          <strong>Change Requests</strong>
          <div class="controls">
		    <button class="btn primary" data-open="crqEditorDlg">â• Nuovo</button>
            <button class="btn"         data-open="crqFilter">ğŸ” Filtra</button>
            <button class="btn"         data-do="crqSave">ğŸ’¾ Salva</button>
            <button class="btn"         data-do="crqLoad">ğŸ“¥ Carica</button>
            <button class="btn"         data-do="crqCSV">ğŸ“„ CSV</button>
            <button class="btn"         data-do="crqXLS">ğŸ“„ Excel (.xls)</button>
            <button class="btn"         data-do="crqHelp">â“ Help</button>
            <button class="btn danger"  data-do="crqClear">ğŸ§¹ Pulisci</button>
          </div>
        </div>
        <div class="card-body">
          <div id="crqBody">
            <div id="crqSummaryBar" class="summary-bar">
              <div class="count"><span id="crqCount">0 risultati</span></div>
            </div>
            <div id="crqTableWrap" class="table-wrap">
              <table class="table" id="crqTable" aria-label="CRQ">
                <!-- thead + tbody dinamici -->
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- === SERVIZI === -->
    <section id="pane-svc" data-pane="svc" class="pane" aria-labelledby="svc-tab">
      <div class="card">
        <div class="card-head">
          <strong>Servizi</strong>
          <div class="controls">
		    <button class="btn primary" data-open="serviceDialog">â• Nuovo</button>
            <button class="btn"         data-open="svcFilter">ğŸ” Filtra</button>            
            <button class="btn"         data-do="svcSave">ğŸ’¾ Salva</button>
            <button class="btn"         data-do="svcLoad">ğŸ“¥ Carica</button>
            <button class="btn"         data-do="svcCSV">ğŸ“„ CSV</button>
            <button class="btn"         data-do="svcXLS">ğŸ“„ Excel (.xls)</button>
            <button class="btn danger"  data-do="svcClear">ğŸ§¹ Pulisci</button>
          </div>
        </div>
        <div class="card-body">
          <div id="svcBody">
            <div id="svcSummaryBar" class="summary-bar">
              <div class="count"><span id="svcCount">0 risultati</span></div>
            </div>
            <div id="svcTableWrap" class="table-wrap">
              <table class="table" id="svcTable" aria-label="Servizi">
                <!-- thead + tbody dinamici -->
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- ======= DIALOGS / MODALS ======= -->

  <!-- Export menu -->
  <dialog id="dlgExport" class="modal">
    <div class="modal-head">
      <strong>Export dati</strong>
      <button class="btn" data-close title="Chiudi">âœ•</button>
    </div>
    <div class="modal-body row wrap gap">
      <button class="btn" data-exp="json">JSON</button>
	  <button class="btn" data-exp="csv">CSV</button>
	  <button class="btn" data-exp="xls">Excel (.xls)</button>
    </div>
  </dialog>

  <!-- Links: editor -->
  <dialog id="linkEditorDlg" class="modal">
    <div class="modal-head">
      <strong id="dlgTitle">Nuovo link</strong>
      <button class="btn ghost" data-close title="Chiudi">âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label>Titolo<input id="fTitle" placeholder="Titolo *" /></label>
      <label>URL<input id="fUrl" placeholder="https://â€¦" inputmode="url" /></label>
      <label class="col-2">Descrizione<textarea id="fDesc" placeholder="Descrizione (opzionale)"></textarea></label>
      <label>Tag<input id="fTags" placeholder="tag separati da virgola" /></label>
      <label>Sezione<select id="fSection" aria-label="Sezione"></select></label>
      <div class="actions end">
        <button class="btn" data-close>Annulla</button>
        <button class="btn primary" id="saveLinkBtn">Salva</button>
      </div>
    </div>
  </dialog>

  <!-- Links: gestisci sezioni -->
	<dialog id="sectionsDlg" class="modal">
		<div class="modal-head">
			<strong>Gestisci sezioni</strong>
			<button class="btn ghost" data-close title="Chiudi">âœ–</button>
		</div>

		<div class="modal-body">
			<!-- LISTA SEZIONI GIÃ€ ESISTENTI -->
			<div id="sectionsList" class="sections-list"></div>

			<!-- NUOVA SEZIONE -->
			<div class="row gap mt new-section-row">
				<input id="newSectionName" type="text" placeholder="Nome nuova sezione" />
				<input id="newSectionDesc" type="text"  placeholder="Descrizione (opzionale)" />

				<select id="newSectionIcon" class="iconSel" title="Icona">
					<option>ğŸ“</option>
					<option>ğŸ‘¥</option>
					<option>ğŸ§©</option>
					<option>ğŸ“‚</option>
					<option>ğŸ“</option>
					<option>ğŸ“Œ</option>
					<option>ğŸ“Š</option>
					<option>ğŸ“</option>
					<option>ğŸ› ï¸</option>
					<option>ğŸ—‚ï¸</option>
					<option>ğŸ“…</option>
					<option>ğŸ§ª</option>
					<option>ğŸ’¡</option>
					<option>âœ”ï¸</option>
					<option>âš™ï¸</option>
				</select>

				<input type="color" id="newSectionColor" value="#4cc9f0" />

				<button class="btn primary" id="addSectionBtn">Aggiungi</button>
			</div>
		</div>
	</dialog>

  <!-- Links: filtro sezioni visibili -->
  <dialog id="filterSectionsDlg" class="modal">
    <div class="modal-head">
      <strong>Filtra sezioni</strong>
      <button class="btn ghost" data-close title="Chiudi">âœ•</button>
    </div>
    <div class="modal-body">
      <div id="filterMenu" class="menu-grid"></div>
    </div>
  </dialog>

  <!-- OP: editor -->
  <dialog id="opDialog" class="modal">
    <div class="modal-head">
      <strong id="opDlgTitle">Nuovo open point</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label>Titolo<input id="opTitle" placeholder="Titolo *" /></label>
      <label>Progetto<input id="opProject" placeholder="Progetto" /></label>
      <label>Assegnatari<input id="opAssignees" placeholder="Assegnatari (virgole)" /></label>

      <div class="row gap">
        <label>PrioritÃ 
          <select id="opPriority">
            <option value="low">Bassa</option>
            <option value="medium" selected>Media</option>
            <option value="high">Alta</option>
            <option value="critical">Critica</option>
          </select>
        </label>
        <label>Stato
          <select id="opStatus">
            <option value="Nuovo" selected>Nuovo</option>
            <option value="Da fare">Da fare</option>
            <option value="In corso">In corso</option>
            <option value="Schedulato">Schedulato</option>
            <option value="Completato">Completato</option>
          </select>
        </label>
        <label class="checkbox"><input id="opMaxPrio" type="checkbox" /> PrioritÃ  massima</label>
      </div>

      <div class="row gap">
        <label>Inserito il<input id="opCreatedAt" type="date" /></label>
        <label>Scadenza<input id="opDueAt" type="date" /></label>
      </div>

      <label class="col-2">Descrizione<textarea id="opDesc"></textarea></label>
      <label class="col-2">Note<textarea id="opNotes"></textarea></label>

      <div class="actions end">
        <button class="btn" data-close>Annulla</button>
        <button class="btn primary" id="opSaveBtn">Salva</button>
      </div>
    </div>
  </dialog>

  <!-- OP: filtro -->
  <dialog id="opFilterDlg" class="modal">
  <div class="modal-head">
    <strong>Filtra Open Points</strong>
    <button class="btn ghost" data-close>âœ•</button>
  </div>

  <div class="modal-body opf-grid">

    <label class="col-full">
      Testo libero
      <input id="opfText" placeholder="Cerca in tutte le colonne" />
    </label>

    <div class="row2">
      <label>ID contieneâ€¦<input id="opfId" placeholder="ID" /></label>
      <label>Titolo contieneâ€¦<input id="opfTitle" placeholder="Titolo" /></label>
    </div>

    <div class="row2">
      <label>Progetti (virgole)<input id="opfProjects" /></label>
      <label>Assegnatari (virgole)<input id="opfAssignees" /></label>
    </div>

    <div class="row2">
      <label>Descrizione contieneâ€¦<input id="opfDesc" /></label>
      <label>Note contengonoâ€¦<input id="opfNotes" /></label>
    </div>

    <!-- Gruppi di checkbox affiancati -->
    <div class="opf-groups">

      <fieldset>
		  <legend>PrioritÃ </legend>

		  <div id="opfPrioGroup" class="checks">

			<input type="checkbox" id="opf_prio_low" value="low">
			<label for="opf_prio_low">Bassa</label>

			<input type="checkbox" id="opf_prio_medium" value="medium">
			<label for="opf_prio_medium">Media</label>

			<input type="checkbox" id="opf_prio_high" value="high">
			<label for="opf_prio_high">Alta</label>

			<input type="checkbox" id="opf_prio_critical" value="critical">
			<label for="opf_prio_critical">Critica</label>

		  </div>
		</fieldset>

		<fieldset>
		  <legend>Stato</legend>

		  <div id="opfStatusGroup" class="checks">

			<input type="checkbox" id="opf_stato_nuovo" value="Nuovo">
			<label for="opf_stato_nuovo">Nuovo</label>

			<input type="checkbox" id="opf_stato_dafare" value="Da fare">
			<label for="opf_stato_dafare">Da fare</label>

			<input type="checkbox" id="opf_stato_incorso" value="In corso">
			<label for="opf_stato_incorso">In corso</label>

			<input type="checkbox" id="opf_stato_schedulato" value="Schedulato">
			<label for="opf_stato_schedulato">Schedulato</label>

			<input type="checkbox" id="opf_stato_completato" value="Completato">
			<label for="opf_stato_completato">Completato</label>

		  </div>
		</fieldset>

    </div>

    <div class="row2">
      <label>Creato dal<input id="opfCreatedFrom" type="date" /></label>
      <label>Creato al<input id="opfCreatedTo" type="date" /></label>
    </div>

    <div class="row2">
      <label>Scadenza da<input id="opfDueFrom" type="date" /></label>
      <label>Scadenza a<input id="opfDueTo" type="date" /></label>
    </div>

    <label class="checkbox">
      <input id="opfMaxOnly" type="checkbox" />
      Solo â€œPrioritÃ  massimaâ€
    </label>

    <div class="actions end mt">
      <button class="btn" id="opfResetBtn">Azzera</button>
      <button class="btn primary" id="opfApplyBtn">Applica</button>
    </div>

  </div>
</dialog>

  <!-- Servizi: editor -->
  <dialog id="serviceDialog" class="modal">
    <div class="modal-head">
      <strong id="svcDlgTitle">Nuovo servizio</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label>ROUTINE *<input id="svcRoutine" placeholder="ROUTINE *" /></label>
      <label>TIPO
        <select id="svcTipo">
          <option value="REST" selected>REST</option>
          <option value="SOAP">SOAP</option>
        </select>
      </label>
      <label>SERVIZIO *<input id="svcServizio" placeholder="SERVIZIO *" /></label>
      <label class="col-2">OPERATION / PARAMETRI (una per riga)<textarea id="svcOperation"></textarea></label>
      <label>Fallback JDBC/SWP<input id="svcFallback" /></label>
	  <label>Ambito<input id="svcAmbito" /></label>
      <label>Applicativo<input id="svcApplicativo" /></label>
      <label class="col-2">Descrizione<textarea id="svcDescrizione"></textarea></label>
      <label class="col-2">Parametri ingresso (uno per riga)<textarea id="svcParamsIn"></textarea></label>
      <label class="col-2">Output del servizio (uno per riga)<textarea id="svcOutput"></textarea></label>
      <div class="actions end">
        <button class="btn" data-close>Annulla</button>
        <button class="btn primary" id="svcSaveBtn">Salva</button>
      </div>
    </div>
  </dialog>

  <!-- Servizi: filtro -->
  <dialog id="svcFilterDlg" class="modal">
    <div class="modal-head">
      <strong>Filtra Servizi</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label class="col-2">Testo libero<input id="svcfText" placeholder="Cerca in routine/tipo/servizio/parametri/â€¦" /></label>

      <div class="row gap">
        <label>ID contieneâ€¦<input id="svcfId" /></label>
        <label>Routine (virgole)<input id="svcfRoutine" /></label>
      </div>

      <div class="row gap">
        <label>Servizi (virgole)<input id="svcfServizi" /></label>
		<fieldset>
		  <legend>Tipo</legend>

		  <div id="svcfTipoGroup" class="checks">

			<input type="checkbox" id="svcf_tipo_rest" value="REST">
			<label for="svcf_tipo_rest">REST</label>

			<input type="checkbox" id="svcf_tipo_soap" value="SOAP">
			<label for="svcf_tipo_soap">SOAP</label>

		  </div>
		</fieldset>
      </div>

      <div class="row gap">
        <label>Descrizione contieneâ€¦<input id="svcfDescrizione" /></label>
        <label>Ambiti (virgole)<input id="svcfAmbiti" /></label>
      </div>

      <div class="row gap">
        <label>Applicativi (virgole)<input id="svcfApplicativi" /></label>
        <label>Fallback (virgole)<input id="svcfFallback" /></label>
      </div>

      <label>Operation / Parametri (virgole)<input id="svcfOperation" /></label>
      <div class="row gap">
        <label>Param IN (virgole)<input id="svcfParamsIn" /></label>
        <label>Output (virgole)<input id="svcfOutput" /></label>
      </div>

      <fieldset>
        <legend>Stato</legend>
        <div id="svcfStatoGroup" class="checks">
          <!-- popolato da JS se necessario -->
        </div>
      </fieldset>

      <div class="actions end mt">
        <button class="btn" id="svcfResetBtn">Azzera</button>
        <button class="btn primary" id="svcfApplyBtn">Applica</button>
      </div>
    </div>
  </dialog>

  <!-- CRQ: editor -->
  <dialog id="crqEditorDlg" class="modal">
    <div class="modal-head">
      <strong id="crqDlgTitle">Nuova CRQ</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label>RFC Aperti *<input id="crqRfcAperti" placeholder="RFC Aperti *" /></label>

      <div class="row gap">
        <label>Stato<select id="crqStato"><option value="">n/d</option></select></label>
        <label>Bhelp Operatore (RFC)<input id="crqBhelp" readonly /></label>
      </div>

      <div class="row gap">
        <label>Data apertura<input id="crqDataApertura" type="date" /></label>
      </div>

      <div class="row gap">
        <label>Emergenza
			<select id="crqEmerg">
				<option value="">n/d</option>
				<option value="No">No</option>
				<option value="SÃ¬">SÃ¬</option>
			</select>
        </label>
        
      </div>

      <label>Categoria<input id="crqCategoria" /></label>

      <div class="row gap">
        <label>Data rilascio<input id="crqDataRilascio" type="date" /></label>
        <label>Rif nostro<input id="crqRifNostro" /></label>
      </div>

      <label>PRJ<input id="crqPrj" /></label>
      <label class="col-2">Contenuto<textarea id="crqContenuto"></textarea></label>

      <div class="actions end">
        <button class="btn" data-close>Annulla</button>
        <button class="btn primary" id="crqSaveBtn">Salva</button>
      </div>
    </div>
  </dialog>

  <!-- CRQ: filtro -->
  <dialog id="crqFilterDlg" class="modal">
    <div class="modal-head">
      <strong>Filtra CRQ</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body form-grid">
      <label class="col-2">Testo libero<input id="crqfText" placeholder="Cerca in RFC/PRJ/Categoria/Contenuto/Rif/Anno" /></label>

      <label>RFC contieneâ€¦<input id="crqfRfc" /></label>

      <div class="row gap">
        <label>Apertura da<input id="crqfAperturaFrom" type="date" /></label>
        <label>Apertura a<input id="crqfAperturaTo" type="date" /></label>
      </div>

      <label>Anno<input id="crqfAnno" inputmode="numeric" /></label>

      <fieldset>
		  <legend>Emergenza</legend>

		  <div id="crqfEmergGroup" class="checks">
			<!-- No -->
			<input type="checkbox" id="crqf_emerg_no" value="No" />
			<label for="crqf_emerg_no">No</label>

			<!-- SÃ¬ -->
			<input type="checkbox" id="crqf_emerg_si" value="SÃ¬" />
			<label for="crqf_emerg_si">SÃ¬</label>
		  </div>
		</fieldset>

      <fieldset>
		  <legend>Utilizzato</legend>

		  <div id="crqfUtilGroup" class="checks">
			<!-- Si -->
			<input type="checkbox" id="crqf_util_si" value="Si" />
			<label for="crqf_util_si">Si</label>

			<!-- No -->
			<input type="checkbox" id="crqf_util_no" value="No" />
			<label for="crqf_util_no">No</label>
		  </div>
		</fieldset>

		<fieldset>
		  <legend>Stato</legend>

		  <div id="crqfStatiGroup" class="checks">
			<!-- Bozza -->
			<input type="checkbox" id="crqf_stato_bozza" value="Bozza" />
			<label for="crqf_stato_bozza">Bozza</label>

			<!-- Richiesta autorizzazione -->
			<input type="checkbox" id="crqf_stato_richiesta" value="Richiesta autorizzazione" />
			<label for="crqf_stato_richiesta">Richiesta autorizzazione</label>

			<!-- Pianificazione in corso -->
			<input type="checkbox" id="crqf_stato_pianificazione" value="Pianificazione in corso" />
			<label for="crqf_stato_pianificazione">Pianificazione in corso</label>

			<!-- Revisione pianificata -->
			<input type="checkbox" id="crqf_stato_revisione" value="Revisione pianificata" />
			<label for="crqf_stato_revisione">Revisione pianificata</label>

			<!-- Approvazione pianificata -->
			<input type="checkbox" id="crqf_stato_approvazione" value="Approvazione pianificata" />
			<label for="crqf_stato_approvazione">Approvazione pianificata</label>

			<!-- Pianificato -->
			<input type="checkbox" id="crqf_stato_pianificato" value="Pianificato" />
			<label for="crqf_stato_pianificato">Pianificato</label>

			<!-- Implementazione in corso -->
			<input type="checkbox" id="crqf_stato_impl" value="Implementazione in corso" />
			<label for="crqf_stato_impl">Implementazione in corso</label>

			<!-- Completato -->
			<input type="checkbox" id="crqf_stato_completato" value="Completato" />
			<label for="crqf_stato_completato">Completato</label>

			<!-- Chiuso -->
			<input type="checkbox" id="crqf_stato_chiuso" value="Chiuso" />
			<label for="crqf_stato_chiuso">Chiuso</label>
		  </div>
		</fieldset>

      <label>Categoria contieneâ€¦<input id="crqfCategoria" /></label>

      <div class="row gap">
        <label>Rilascio da<input id="crqfRilFrom" type="date" /></label>
        <label>Rilascio a<input id="crqfRilTo" type="date" /></label>
      </div>

      <label>Rif nostro<input id="crqfRif" /></label>
      <label>PRJ<input id="crqfPrj" /></label>
      <label>Contenuto contieneâ€¦<input id="crqfContenuto" /></label>

      <div class="actions end mt">
        <button class="btn" id="crqfResetBtn">Azzera</button>
        <button class="btn primary" id="crqfApplyBtn">Applica</button>
      </div>
    </div>
  </dialog>

  <!-- CRQ: help mapping -->
  <dialog id="helpCrqDlg" class="modal">
    <div class="modal-head">
      <strong>HELP CRQ â€” Mappatura stati</strong>
      <button class="btn ghost" data-close>âœ•</button>
    </div>
    <div class="modal-body">
      <div id="helpCrqHint" class="muted">Clicca una riga per copiare (Invio/Spazio).</div>
      <div id="helpCrqTableWrap" class="table-wrap">
        <table class="table" id="helpCrqTable" aria-label="Mappatura CRQ">
          <thead><tr><th>BMC Helix (CRQ)</th><th>Bhelp Operatore (RFC)</th><th>Note</th></tr></thead>
          <tbody>
            <tr data-bmc="Bozza" data-bhelp="n.a." data-note="Dopo apertura richiedere slot" tabindex="0" role="button">
              <td>Bozza</td><td>n.a.</td><td>Dopo apertura richiedere slot</td>
            </tr>
            <tr data-bmc="Richiesta autorizzazione" data-bhelp="Verifica Referente Servizio IT" data-note="-" tabindex="0" role="button">
              <td>Richiesta autorizzazione</td><td>Verifica Referente Servizio IT</td><td>-</td>
            </tr>
            <tr data-bmc="Pianificazione in corso" data-bhelp="Deploy Test / Esecuzione Test" data-note="MartedÃ¬ settimana prima del rilascio" tabindex="0" role="button">
              <td>Pianificazione in corso</td><td>Deploy Test / Esecuzione Test</td><td>MartedÃ¬ settimana prima del rilascio</td>
            </tr>
            <tr data-bmc="Revisione pianificata" data-bhelp="Completamento Test" data-note="-" tabindex="0" role="button">
              <td>Revisione pianificata</td><td>Completamento Test</td><td>-</td>
            </tr>
            <tr data-bmc="Approvazione pianificata" data-bhelp="Verifica ICT" data-note="Giorno prima del rilascio" tabindex="0" role="button">
              <td>Approvazione pianificata</td><td>Verifica ICT</td><td>Giorno prima del rilascio</td>
            </tr>
            <tr data-bmc="Pianificato" data-bhelp="n.a." data-note="" tabindex="0" role="button">
              <td>Pianificato</td><td>n.a.</td><td></td>
            </tr>
            <tr data-bmc="Implementazione in corso" data-bhelp="Preparazione Installazione / Installazione" data-note="" tabindex="0" role="button">
              <td>Implementazione in corso</td><td>Preparazione Installazione / Installazione</td><td></td>
            </tr>
            <tr data-bmc="Completato" data-bhelp="n.a." data-note="" tabindex="0" role="button">
              <td>Completato</td><td>n.a.</td><td></td>
            </tr>
            <tr data-bmc="Chiuso" data-bhelp="Chiuso Deploy" data-note="" tabindex="0" role="button">
              <td>Chiuso</td><td>Chiuso Deploy</td><td></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="actions end mt">
        <button class="btn primary" data-close>âœ–ï¸ CHIUDI</button>
      </div>
    </div>
  </dialog>
  
	<dialog id="notifDlg" class="modal">
	  <div class="modal-head">
		  <strong>Notifiche</strong>
		  <button class="btn ghost" data-close title="Chiudi">âœ–</button>
		</div>

		<!-- TAB SWITCHER -->
		<div class="notif-tabs">
		  <button class="notif-tab active" data-tab="op">
			Open Point
			<span class="notif-tab-counts" id="notifTabCountOP"></span>
		  </button>

		  <button class="notif-tab" data-tab="crq">
			CRQ
			<span class="notif-tab-counts" id="notifTabCountCRQ"></span>
		  </button>
		</div>

		<div class="modal-body">

		  <!-- TAB: OPEN POINT -->
		  <div id="notifTabOP" class="notif-tab-content active">
			<div id="notifOP" class="notif-list"></div>
		  </div>

		  <!-- TAB: CRQ -->
		  <div id="notifTabCRQ" class="notif-tab-content">
			<div id="notifCRQ" class="notif-list"></div>
		  </div>

		</div>

		<div class="modal-footer">
		  <button class="btn primary" data-close>Chiudi</button>
		</div>
	</dialog>


  <!-- Messaggio se JS Ã¨ disattivato -->
  <noscript>
    <div class="noscript">Per utilizzare lâ€™app abilita JavaScript.</div>
  </noscript>

  <!-- Motore dell'app: TUTTA la logica Ã¨ qui -->
  
  <script type="module" src="./js/main.js"></script>
